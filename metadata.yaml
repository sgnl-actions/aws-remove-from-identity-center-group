# yaml-language-server: $schema=https://raw.githubusercontent.com/sgnl-actions/schemas/main/metadata.schema.json
name: aws-remove-from-identity-center-group
description: Remove a user from an AWS Identity Center (SSO) group

# Input parameters for web form generation
inputs:
  userName:
    type: text
    description: The username of the user to add to the group
    required: true
    validation:
      min: 1
      max: 128

  identityStoreId:
    type: text
    description: The Identity Store ID (e.g., d-1234567890)
    required: true
    validation:
      min: 1
      max: 64

  groupId:
    type: text
    description: The ID of the group to remove the user from
    required: true
    validation:
      min: 1
      max: 47

  region:
    type: text
    description: AWS region (e.g., us-east-1)
    required: true
    validation:
      min: 1
      max: 30

# Expected output structure
outputs:
  userName:
    type: text
    description: The username that was added

  groupId:
    type: text
    description: The group ID the user was removed from

  userId:
    type: text
    description: The resolved user ID from the username

  removed:
    type: boolean
    description: Whether the user was successfully removed

  removedAt:
    type: datetime
    description: When the removal completed (ISO 8601)

# Required secrets (configured at deployment time)
secrets:
  - AWS_ACCESS_KEY_ID
  - AWS_SECRET_ACCESS_KEY

# Runtime configuration
runtime:
  type: nodejs-22
  timeout: 30s
  memory: 128Mi